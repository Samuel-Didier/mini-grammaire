<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini-Grammaire - Codes de Correction</title>

    <!-- ===================================================
         POLICE GOOGLE FONTS
         - Playfair Display : titres (serif Ã©lÃ©gant)
         - DM Sans          : texte courant (sans-serif lisible)
    =================================================== -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">

    <style>

        /* ===================================================
           RESET GLOBAL
           Supprime marges/paddings par dÃ©faut du navigateur
           et applique box-sizing partout pour des calculs
           de largeur cohÃ©rents.
        =================================================== */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* ===================================================
           VARIABLES CSS (palette de couleurs et ombres)
           Chaque catÃ©gorie a une couleur principale (sombre)
           et une couleur lÃ©gÃ¨re (fond des badges).
           --bg      : fond gÃ©nÃ©ral de la page
           --ink     : couleur principale du texte et nav
           --card    : fond blanc des cartes
           --border  : bordure grise lÃ©gÃ¨re
           --shadow  : ombre portÃ©e des cartes
        =================================================== */
        :root {
            --bg:       #f7f4ef;   /* beige doux pour le fond */
            --ink:      #1a1a2e;   /* bleu trÃ¨s foncÃ© pour le texte */
            --card:     #ffffff;

            /* Grammaire â†’ vert */
            --g:        #2d6a4f;
            --g-light:  #d8f3dc;

            /* Ponctuation â†’ violet */
            --p:        #7b2d8b;
            --p-light:  #f3d8f9;

            /* Syntaxe â†’ orange */
            --s:        #c77c1a;
            --s-light:  #fdf0d5;

            /* Usage â†’ bleu */
            --u:        #1a6bb5;
            --u-light:  #d5e9fd;

            /* Vocabulaire â†’ rouge */
            --v:        #b5341a;
            --v-light:  #fdd5d5;

            --border:   #e0dbd0;
            --shadow:   0 4px 24px rgba(26,26,46,0.08);
        }

        /* ===================================================
           BODY
           Police globale, fond beige, hauteur minimale
           pour que le footer reste en bas mÃªme sur pages courtes.
        =================================================== */
        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg);
            color: var(--ink);
            min-height: 100vh;
        }

        /* ===================================================
           BARRE DE NAVIGATION
           Bande sombre en haut avec logo Ã  gauche
           et profil utilisateur Ã  droite.
        =================================================== */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2.5rem;
            background: var(--ink);
            color: #fff;
        }

        /* Logo en police serif pour un look Ã©ditorial */
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            letter-spacing: 0.02em;
        }

        /* Profil : semi-transparent, devient opaque au survol */
        .user-profile {
            font-size: 0.9rem;
            opacity: 0.7;
            cursor: pointer;
            transition: opacity .2s;
        }
        .user-profile:hover { opacity: 1; }

        /* ===================================================
           CONTENEUR PRINCIPAL
           CentrÃ©, largeur max 1300px, padding confortable.
        =================================================== */
        .main-container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 2rem 2rem 4rem;
        }

        /* ===================================================
           LIEN RETOUR (â† Tableau de bord)
           AffichÃ© en grisÃ©, plein au survol.
        =================================================== */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            color: var(--ink);
            text-decoration: none;
            font-size: 0.9rem;
            opacity: 0.55;
            margin-bottom: 1.5rem;
            transition: opacity .2s;
        }
        .back-link:hover { opacity: 1; }

        /* ===================================================
           EN-TÃŠTE DE LA PAGE (titre + sous-titre)
        =================================================== */
        .dashboard-header {
            margin-bottom: 2rem;
        }
        .dashboard-header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            line-height: 1.15;
            margin-bottom: 0.4rem;
        }
        .dashboard-header p {
            font-size: 1rem;
            opacity: 0.6;
        }

        /* ===================================================
           BARRE DE RECHERCHE
           Positionnement relatif pour placer l'icÃ´ne SVG
           en absolu Ã  l'intÃ©rieur du champ.
        =================================================== */
        .search-wrap {
            position: relative;
            margin-bottom: 1.5rem;
            max-width: 480px;
        }

        /* IcÃ´ne loupe positionnÃ©e Ã  gauche du champ */
        .search-wrap svg {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0.4;
            pointer-events: none; /* ne bloque pas les clics sur l'input */
        }

        /* Champ texte avec padding-left pour laisser place Ã  l'icÃ´ne */
        #searchInput {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.8rem;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.95rem;
            background: var(--card);
            color: var(--ink);
            outline: none;
            transition: border-color .2s, box-shadow .2s;
        }
        /* Mise en Ã©vidence visuelle du focus */
        #searchInput:focus {
            border-color: var(--ink);
            box-shadow: 0 0 0 3px rgba(26,26,46,0.08);
        }

        /* ===================================================
           MESSAGE "AUCUN RÃ‰SULTAT"
           MasquÃ© par dÃ©faut, affichÃ© par JS si aucun code
           ne correspond Ã  la recherche en cours.
        =================================================== */
        #noResults {
            display: none;
            text-align: center;
            padding: 2.5rem;
            opacity: 0.5;
            font-size: 1rem;
        }

        /* ===================================================
           GRILLE DES CATÃ‰GORIES
           Layout CSS Grid responsive :
           colonnes de 230px min, s'adapte Ã  la largeur.
           align-items: start â†’ chaque carte prend sa propre
           hauteur sans s'Ã©tirer pour s'aligner aux voisines.
        =================================================== */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
            gap: 1.25rem;
            align-items: start;
        }

        /* ===================================================
           CARTE DE CATÃ‰GORIE
           Fond blanc, coins arrondis, ombre lÃ©gÃ¨re.
           align-self: start â†’ hauteur auto selon son contenu.
           LÃ©gÃ¨re Ã©lÃ©vation au survol via transform + shadow.
        =================================================== */
        .category-card {
            background: var(--card);
            border-radius: 14px;
            box-shadow: var(--shadow);
            overflow: hidden;
            height: auto;
            align-self: start;
            transition: transform .2s, box-shadow .2s;
        }
        .category-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 32px rgba(26,26,46,0.13);
        }

        /* ===================================================
           EN-TÃŠTE DE CARTE (bandeau colorÃ©)
           La classe de couleur (g, p, s, u, v) est ajoutÃ©e
           en HTML sur chaque .card-header pour appliquer
           la bonne couleur de fond.
        =================================================== */
        .card-header {
            padding: 0.9rem 1.1rem;
            font-family: 'Playfair Display', serif;
            font-size: 1rem;
            font-weight: 700;
            letter-spacing: 0.03em;
            color: #fff;
        }
        /* Couleurs de fond selon la catÃ©gorie */
        .card-header.g { background: var(--g); }
        .card-header.p { background: var(--p); }
        .card-header.s { background: var(--s); }
        .card-header.u { background: var(--u); }
        .card-header.v { background: var(--v); }

        /* Corps de la carte (liste de lignes de codes) */
        .card-body { padding: 0.4rem 0; }

        /* ===================================================
           LIGNE DE CODE
           Une ligne = un code + sa description (cachÃ©e par
           dÃ©faut) + flÃ¨che indicateur + contrÃ´les d'Ã©dition.
           cursor: pointer â†’ indique la cliquabilitÃ©.
           user-select: none â†’ Ã©vite la sÃ©lection de texte
           accidentelle lors des clics rapides.
        =================================================== */
        .code-row {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.55rem 1.1rem;
            transition: background .15s;
            cursor: default;
            user-select: none;
        }
        /* Survol : lÃ©gÃ¨re teinte bleue */
        .code-row:hover { background: #f0f5ff; }

        /* ===================================================
           BADGE DU CODE (ex: "G1", "P3")
           Petite pastille colorÃ©e non rÃ©trÃ©cissable.
        =================================================== */
        .code-badge {
            flex-shrink: 0;
            font-weight: 700;
            font-size: 0.78rem;
            padding: 0.18rem 0.55rem;
            border-radius: 6px;
            letter-spacing: 0.04em;
            min-width: 36px;
            text-align: center;
        }
        /* Couleurs des badges selon la catÃ©gorie */
        .badge-g { background: var(--g-light); color: var(--g); }
        .badge-p { background: var(--p-light); color: var(--p); }
        .badge-s { background: var(--s-light); color: var(--s); }
        .badge-u { background: var(--u-light); color: var(--u); }
        .badge-v { background: var(--v-light); color: var(--v); }

        /* ===================================================
           DESCRIPTION DU CODE
           CachÃ©e par dÃ©faut (opacity:0, max-width:0).
           ApparaÃ®t en animation fluide quand la ligne est
           dans l'Ã©tat .open ou .highlight.
           white-space: nowrap empÃªche les sauts de ligne
           pendant l'animation de largeur.
        =================================================== */
        /* Description toujours visible */
        .code-desc {
            font-size: 0.88rem;
            line-height: 1.3;
            display: inline;
            opacity: 0.85;
            flex: 1; /* prend l'espace disponible */
        }

        /* FlÃ¨che cliquable â€” tourne au clic pour rÃ©vÃ©ler le dÃ©tail */
        .code-arrow {
            margin-left: auto;
            font-size: 0.65rem;
            opacity: 0.3;
            flex-shrink: 0;
            cursor: pointer;
            transition: transform .2s, opacity .2s;
            padding: 0.2rem;
        }
        .code-row:hover .code-arrow { opacity: 0.6; }

        /* ===================================================
           SURBRILLANCE DE RECHERCHE
           Fond jaune pÃ¢le appliquÃ© par JS sur les lignes
           dont le code ou la description correspond au filtre.
        =================================================== */
        .code-row.highlight { background: #fffbe6; }

        /* Ligne masquÃ©e : ne correspond pas Ã  la recherche */
        .code-row.hidden { display: none; }

        /* ===================================================
           CONTRÃ”LES D'Ã‰DITION DU PANNEAU DÃ‰TAIL
           Le bouton âœï¸ est dans le .code-detail.
           Il apparaÃ®t au survol du panneau.
        =================================================== */

        /* Bouton crayon dans le panneau dÃ©tail */
        .detail-edit-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.75rem;
            opacity: 0;               /* invisible par dÃ©faut */
            transition: opacity .2s;
            padding: 0.1rem 0.3rem;
            border-radius: 4px;
            margin-left: 0.4rem;
        }
        /* ApparaÃ®t au survol du panneau dÃ©tail */
        .code-detail:hover .detail-edit-btn { opacity: 0.5; }
        .detail-edit-btn:hover { opacity: 1 !important; background: #e8e8e8; }

        /* Champ de saisie du dÃ©tail â€” cachÃ© par dÃ©faut */
        .detail-input {
            display: none;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.83rem;
            border: 1.5px solid #aaa;
            border-radius: 6px;
            padding: 0.2rem 0.5rem;
            outline: none;
            width: 220px;
            transition: border-color .2s;
        }
        .detail-input:focus { border-color: var(--ink); }

        /* Bouton sauvegarder du dÃ©tail â€” cachÃ© par dÃ©faut */
        .detail-save-btn {
            display: none;
            margin-left: 0.4rem;
            background: var(--ink);
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 0.2rem 0.6rem;
            font-size: 0.78rem;
            cursor: pointer;
            font-family: 'DM Sans', sans-serif;
        }

        /* En mode Ã©dition du dÃ©tail (.editing-detail) :
           cacher le texte et le crayon, afficher input + sauv. */
        .code-detail.editing-detail .detail-text     { display: none; }
        .code-detail.editing-detail .detail-edit-btn  { display: none; }
        .code-detail.editing-detail .detail-input    { display: inline-block; }
        .code-detail.editing-detail .detail-save-btn { display: inline-block; }

        /* ===================================================
           PANNEAU DÃ‰TAIL (affichÃ© au clic sur la flÃ¨che)
           Ligne supplÃ©mentaire sous le contenu principal,
           cachÃ©e par dÃ©faut, visible avec la classe .expanded
        =================================================== */
        .code-detail {
            display: none;          /* cachÃ© par dÃ©faut */
            width: 100%;
            padding: 0.4rem 1.1rem 0.6rem 3.2rem;
            font-size: 0.83rem;
            color: #555;
            font-style: italic;
            border-top: 1px dashed #e0dbd0;
            background: #fafafa;
        }
        /* AffichÃ© quand la ligne a la classe .expanded */
        .code-row.expanded + .code-detail { display: block; }

        /* La flÃ¨che tourne quand expanded */
        .code-row.expanded .code-arrow {
            transform: rotate(90deg);
            opacity: 0.7;
        }

        /* ===================================================
           PIED DE PAGE
        =================================================== */
        footer {
            text-align: center;
            padding: 1.5rem;
            font-size: 0.8rem;
            opacity: 0.4;
        }

    </style>
</head>
<body>

<!-- =====================================================
     BARRE DE NAVIGATION PRINCIPALE
     Logo Ã  gauche, lien profil Ã  droite.
===================================================== -->
<nav>
    <div class="logo">Ma Mini-Grammaire</div>
    <div class="user-profile">ğŸ‘¤ Mon Profil</div>
</nav>

<!-- =====================================================
     CONTENEUR PRINCIPAL DE LA PAGE
===================================================== -->
<div class="main-container">

    <!-- Lien retour vers le tableau de bord -->
    <a href="index.html" class="back-link"><span>â†</span> Retour au tableau de bord</a>

    <!-- Titre et sous-titre de la page -->
    <header class="dashboard-header">
        <h1>Codes de Correction ğŸ“</h1>
        <p>Retrouvez la signification des codes utilisÃ©s pour corriger vos textes.</p>
    </header>

    <!-- =====================================================
         BARRE DE RECHERCHE
         oninput â†’ dÃ©clenche searchFunction() Ã  chaque frappe.
         L'icÃ´ne SVG est inline pour Ã©viter une requÃªte rÃ©seau.
    ===================================================== -->
    <div class="search-wrap">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
        </svg>
        <input type="text" id="searchInput"
               placeholder="Rechercher un code (ex: G1) ou une erreur (ex: Accord)..."
               oninput="searchFunction()">
    </div>

    <!-- Message affichÃ© si aucun rÃ©sultat ne correspond -->
    <div id="noResults">Aucun rÃ©sultat trouvÃ© ğŸ”</div>

    <!-- =====================================================
         GRILLE DES CATÃ‰GORIES
         Chaque .category-card reprÃ©sente une catÃ©gorie.
         data-cat = identifiant interne (g, p, s, u, v).
         Chaque .code-row porte :
           - data-code : le code (ex "G1") â†’ pour la recherche
           - data-desc : la description     â†’ pour la recherche et l'Ã©dition
         Structure d'une ligne :
           badge | description (cachÃ©e) | flÃ¨che | âœï¸ | input | âœ“ Sauv.
    ===================================================== -->
    <div class="categories-grid" id="grid">

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             CATÃ‰GORIE : GRAMMAIRE (G)
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div class="category-card" data-cat="g">
            <div class="card-header g">Grammaire (G)</div>
            <div class="card-body">

                <div class="code-row" data-code="G1" data-desc="Accord dans le groupe nominal">
                    <span class="code-badge badge-g">G1</span>
                    <span class="code-desc">Accord dans le groupe nominal</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="G2" data-desc="Accord du pronom">
                    <span class="code-badge badge-g">G2</span>
                    <span class="code-desc">Accord du pronom</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="G3" data-desc="Conjugaison du verbe">
                    <span class="code-badge badge-g">G3</span>
                    <span class="code-desc">Conjugaison du verbe</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="G4" data-desc="Accord participe passÃ©">
                    <span class="code-badge badge-g">G4</span>
                    <span class="code-desc">Accord participe passÃ©</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="G5" data-desc="Homophone">
                    <span class="code-badge badge-g">G5</span>
                    <span class="code-desc">Homophone</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="G6" data-desc="Mot invariable">
                    <span class="code-badge badge-g">G6</span>
                    <span class="code-desc">Mot invariable</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

            </div>
        </div><!-- /Grammaire -->

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             CATÃ‰GORIE : PONCTUATION (P)
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div class="category-card" data-cat="p">
            <div class="card-header p">Ponctuation (P)</div>
            <div class="card-body">

                <div class="code-row" data-code="P1" data-desc="Virgule">
                    <span class="code-badge badge-p">P1</span>
                    <span class="code-desc">Virgule</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P2" data-desc="Ponctuation finale">
                    <span class="code-badge badge-p">P2</span>
                    <span class="code-desc">Ponctuation finale</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P3" data-desc="Deux-points">
                    <span class="code-badge badge-p">P3</span>
                    <span class="code-desc">Deux-points</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P4" data-desc="Point-virgule">
                    <span class="code-badge badge-p">P4</span>
                    <span class="code-desc">Point-virgule</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P5" data-desc="Guillemets">
                    <span class="code-badge badge-p">P5</span>
                    <span class="code-desc">Guillemets</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P6" data-desc="Crochets">
                    <span class="code-badge badge-p">P6</span>
                    <span class="code-desc">Crochets</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P7" data-desc="ParenthÃ¨ses">
                    <span class="code-badge badge-p">P7</span>
                    <span class="code-desc">ParenthÃ¨ses</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P8" data-desc="Tiret">
                    <span class="code-badge badge-p">P8</span>
                    <span class="code-desc">Tiret</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P9" data-desc="Barre oblique">
                    <span class="code-badge badge-p">P9</span>
                    <span class="code-desc">Barre oblique</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P10" data-desc="Citation">
                    <span class="code-badge badge-p">P10</span>
                    <span class="code-desc">Citation</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P11" data-desc="Majuscule/Minuscule">
                    <span class="code-badge badge-p">P11</span>
                    <span class="code-desc">Majuscule / Minuscule</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P12" data-desc="Ã‰lision">
                    <span class="code-badge badge-p">P12</span>
                    <span class="code-desc">Ã‰lision</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P13" data-desc="AbrÃ©viation">
                    <span class="code-badge badge-p">P13</span>
                    <span class="code-desc">AbrÃ©viation</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="P14" data-desc="Titre d'ouvrage">
                    <span class="code-badge badge-p">P14</span>
                    <span class="code-desc">Titre d'ouvrage</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

            </div>
        </div><!-- /Ponctuation -->

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             CATÃ‰GORIE : SYNTAXE (S)
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div class="category-card" data-cat="s">
            <div class="card-header s">Syntaxe (S)</div>
            <div class="card-body">

                <div class="code-row" data-code="S1" data-desc="Phrase nÃ©gative">
                    <span class="code-badge badge-s">S1</span>
                    <span class="code-desc">Phrase nÃ©gative</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S2" data-desc="Phrase restrictive">
                    <span class="code-badge badge-s">S2</span>
                    <span class="code-desc">Phrase restrictive</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S3" data-desc="Phrase incomplÃ¨te">
                    <span class="code-badge badge-s">S3</span>
                    <span class="code-desc">Phrase incomplÃ¨te</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S4" data-desc="Emploi prÃ©position">
                    <span class="code-badge badge-s">S4</span>
                    <span class="code-desc">Emploi prÃ©position</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S5" data-desc="Liaison syntaxique">
                    <span class="code-badge badge-s">S5</span>
                    <span class="code-desc">Liaison syntaxique</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S6" data-desc="Reprise pronominale">
                    <span class="code-badge badge-s">S6</span>
                    <span class="code-desc">Reprise pronominale</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S7" data-desc="Temps de verbes">
                    <span class="code-badge badge-s">S7</span>
                    <span class="code-desc">Temps de verbes</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S8" data-desc="Sujet phrase principale">
                    <span class="code-badge badge-s">S8</span>
                    <span class="code-desc">Sujet phrase principale</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S9" data-desc="Choix de l'auxiliaire">
                    <span class="code-badge badge-s">S9</span>
                    <span class="code-desc">Choix de l'auxiliaire</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S10" data-desc="Citation">
                    <span class="code-badge badge-s">S10</span>
                    <span class="code-desc">Citation</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S11" data-desc="Choix dÃ©terminant">
                    <span class="code-badge badge-s">S11</span>
                    <span class="code-desc">Choix dÃ©terminant</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="S12" data-desc="DÃ©formation phrase">
                    <span class="code-badge badge-s">S12</span>
                    <span class="code-desc">DÃ©formation phrase</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

            </div>
        </div><!-- /Syntaxe -->

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             CATÃ‰GORIE : USAGE (U)
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div class="category-card" data-cat="u">
            <div class="card-header u">Usage (U)</div>
            <div class="card-body">

                <div class="code-row" data-code="U1" data-desc="Orthographe d'un mot">
                    <span class="code-badge badge-u">U1</span>
                    <span class="code-desc">Orthographe d'un mot</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="U2" data-desc="Orthographe locution">
                    <span class="code-badge badge-u">U2</span>
                    <span class="code-desc">Orthographe locution</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="U3" data-desc="Coquille">
                    <span class="code-badge badge-u">U3</span>
                    <span class="code-desc">Coquille</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

            </div>
        </div><!-- /Usage -->

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             CATÃ‰GORIE : VOCABULAIRE (V)
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div class="category-card" data-cat="v">
            <div class="card-header v">Vocabulaire (V)</div>
            <div class="card-body">

                <div class="code-row" data-code="V1" data-desc="ImpropriÃ©tÃ© lexicale">
                    <span class="code-badge badge-v">V1</span>
                    <span class="code-desc">ImpropriÃ©tÃ© lexicale</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="V2" data-desc="Anglicisme">
                    <span class="code-badge badge-v">V2</span>
                    <span class="code-desc">Anglicisme</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="V3" data-desc="PlÃ©onasme">
                    <span class="code-badge badge-v">V3</span>
                    <span class="code-desc">PlÃ©onasme</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="V4" data-desc="Vocabulaire rÃ©pÃ©titif">
                    <span class="code-badge badge-v">V4</span>
                    <span class="code-desc">Vocabulaire rÃ©pÃ©titif</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="V5" data-desc="Barbarisme">
                    <span class="code-badge badge-v">V5</span>
                    <span class="code-desc">Barbarisme</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="V6" data-desc="Registre de langue">
                    <span class="code-badge badge-v">V6</span>
                    <span class="code-desc">Registre de langue</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

                <div class="code-row" data-code="V7" data-desc="ArchaÃ¯sme">
                    <span class="code-badge badge-v">V7</span>
                    <span class="code-desc">ArchaÃ¯sme</span>
                    <span class="code-arrow" onclick="toggleDetail(event, this)" title="Voir le dÃ©tail">â–¶</span>
                </div>
                <div class="code-detail"><span class="detail-text">ğŸ“Œ Aucun dÃ©tail ajoutÃ©.</span> <button class="detail-edit-btn" onclick="startDetailEdit(event, this)" title="Modifier">âœï¸</button><input class="detail-input" type="text" placeholder="Ajouter un dÃ©tail..." onkeydown="handleDetailKey(event, this)"><button class="detail-save-btn" onclick="saveDetail(event, this)">âœ“ Sauv.</button></div>

            </div>
        </div><!-- /Vocabulaire -->

    </div><!-- /categories-grid -->
</div><!-- /main-container -->

<footer>
    <p>&copy; 2023 Ma Mini-Grammaire. Bonne Ã©tude !</p>
</footer>

<!-- =====================================================
     JAVASCRIPT â€” 3 fonctionnalitÃ©s :
       1. Toggle ouverture/fermeture d'une ligne au clic
       2. Mode Ã©dition inline (âœï¸ â†’ saisie â†’ âœ“ sauvegarder)
       3. Recherche en temps rÃ©el sur code et description
===================================================== -->
<script>

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   TOGGLE DU PANNEAU DÃ‰TAIL au clic sur la flÃ¨che â–¶
   - Stoppe la propagation pour ne pas dÃ©clencher
     d'autres Ã©vÃ©nements sur la ligne parente
   - Bascule la classe .expanded sur la .code-row
   - CSS affiche/cache le .code-detail suivant via
     le sÃ©lecteur adjacent : .code-row.expanded + .code-detail
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function toggleDetail(e, arrow) {
        e.stopPropagation();
        const row = arrow.closest('.code-row');
        row.classList.toggle('expanded');
    }

    /* Ouvrir l'Ã©dition du panneau dÃ©tail */
    function startDetailEdit(e, btn) {
        e.stopPropagation();
        const panel    = btn.closest('.code-detail');
        const textSpan = panel.querySelector('.detail-text');
        const input    = panel.querySelector('.detail-input');
        input.value = textSpan.textContent.replace('ğŸ“Œ ', '').trim();
        panel.classList.add('editing-detail');
        input.focus();
        input.select();
    }

    /* Sauvegarder le contenu du panneau dÃ©tail */
    function saveDetail(e, btn) {
        e.stopPropagation();
        const panel    = btn.closest('.code-detail');
        const textSpan = panel.querySelector('.detail-text');
        const input    = panel.querySelector('.detail-input');
        const newVal   = input.value.trim();
        if (newVal) {
            textSpan.textContent = 'ğŸ“Œ ' + newVal;
        }
        panel.classList.remove('editing-detail');
    }

    /* Raccourcis clavier dans le champ dÃ©tail : EntrÃ©e = sauv., Ã‰chap = annuler */
    function handleDetailKey(e, input) {
        if (e.key === 'Enter') {
            saveDetail(e, input);
        } else if (e.key === 'Escape') {
            e.stopPropagation();
            input.closest('.code-detail').classList.remove('editing-detail');
        }
    }


    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       2a. DÃ‰MARRER LE MODE Ã‰DITION â€” startEdit(e, btn)
       AppelÃ©e quand l'utilisateur clique sur âœï¸.
       ParamÃ¨tres :
         e   â†’ l'Ã©vÃ©nement clic (pour stopPropagation)
         btn â†’ le bouton âœï¸ cliquÃ© (pour retrouver la ligne)

       Actions :
       1. Stoppe la propagation â†’ Ã©vite de toggler la ligne
       2. RÃ©cupÃ¨re la description actuelle du span
       3. PrÃ©-remplit le champ input avec cette valeur
       4. Ajoute .editing et .open Ã  la ligne
          (.editing â†’ CSS cache desc/flÃ¨che/crayon, affiche input/sauv.)
       5. Focus + sÃ©lection du texte pour Ã©dition rapide
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function startEdit(e, btn) {
        e.stopPropagation(); // empÃªche le clic de toggler la ligne parente

        const row      = btn.closest('.code-row');    // remonter au conteneur parent
        const descSpan = row.querySelector('.code-desc');
        const input    = row.querySelector('.code-edit-input');

        // PrÃ©-remplir avec la description actuellement affichÃ©e
        input.value = descSpan.textContent.trim();

        // Activer le mode Ã©dition via la classe CSS
        row.classList.add('editing', 'open');

        // Mettre le curseur dans le champ et tout sÃ©lectionner
        input.focus();
        input.select();
    }


    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       2b. SAUVEGARDER L'Ã‰DITION â€” saveEdit(e, btn)
       AppelÃ©e au clic sur "âœ“ Sauv." ou via EntrÃ©e.
       ParamÃ¨tres :
         e   â†’ Ã©vÃ©nement (pour stopPropagation)
         btn â†’ bouton sauvegarder ou input (pour retrouver la ligne)

       Actions :
       1. Stoppe la propagation
       2. Lit et nettoie la nouvelle valeur de l'input
       3. Si non vide : met Ã  jour le .textContent du span
          ET l'attribut data-desc (utilisÃ© par la recherche)
       4. Retire .editing pour quitter le mode Ã©dition
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function saveEdit(e, btn) {
        e.stopPropagation(); // empÃªche de toggler la ligne

        const row      = btn.closest('.code-row');
        const descSpan = row.querySelector('.code-desc');
        const input    = row.querySelector('.code-edit-input');
        const newVal   = input.value.trim();

        if (newVal) {
            descSpan.textContent = newVal; // mise Ã  jour visuelle du span
            row.dataset.desc     = newVal; // mise Ã  jour pour la recherche JS
        }

        // Quitter le mode Ã©dition (CSS masque input, rÃ©affiche desc/flÃ¨che/crayon)
        row.classList.remove('editing');
    }


    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       2c. RACCOURCIS CLAVIER â€” handleEditKey(e, input)
       Ã‰coute les touches dans le champ d'Ã©dition.
         EntrÃ©e â†’ appelle saveEdit pour sauvegarder
         Ã‰chap  â†’ annule sans modifier (retire juste .editing)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function handleEditKey(e, input) {
        if (e.key === 'Enter') {
            saveEdit(e, input); // sauvegarder et quitter le mode Ã©dition
        } else if (e.key === 'Escape') {
            e.stopPropagation();
            input.closest('.code-row').classList.remove('editing'); // annuler
        }
    }


    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       3. RECHERCHE EN TEMPS RÃ‰EL â€” searchFunction()
       AppelÃ©e Ã  chaque frappe dans #searchInput (oninput).

       Algorithme :
       Pour chaque .category-card :
         Pour chaque .code-row de la carte :
           - Comparer le filtre avec data-code ET data-desc
           - Si correspondance â†’ visible + .highlight
             (CSS ouvre automatiquement la description via .highlight)
           - Sinon â†’ .hidden (masquÃ©)
         Si aucune ligne visible dans la carte â†’ masquer la carte
       Si aucune ligne visible au total â†’ afficher #noResults

       Cas particulier : filtre vide â†’ tout rÃ©afficher + fermer
       les lignes ouvertes (retrait de .open et .highlight).
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function searchFunction() {
        const filter = document.getElementById("searchInput").value.toLowerCase().trim();
        const cards  = document.querySelectorAll(".category-card");
        let totalVisible = 0;

        cards.forEach(card => {
            const rows       = card.querySelectorAll(".code-row");
            // Lire le texte du bandeau titre (ex: "Grammaire (G)")
            const headerText = card.querySelector(".card-header").textContent.toLowerCase();

            // Si le filtre correspond au titre de la catÃ©gorie â†’ afficher TOUTES les lignes
            const headerMatch = filter !== "" && headerText.includes(filter);

            let cardVisible = 0;

            rows.forEach(row => {
                const code = row.dataset.code.toLowerCase();
                const desc = row.dataset.desc.toLowerCase();

                // Match si : filtre vide, header correspond, code correspond, ou desc correspond
                const match = filter === "" || headerMatch || code.includes(filter) || desc.includes(filter);

                if (match) {
                    row.classList.remove("hidden");

                    if (filter !== "" && !headerMatch) {
                        // Surbrillance jaune seulement si c'est code/desc qui a matchÃ©
                        row.classList.add("highlight");
                    } else {
                        // Pas de surbrillance si c'est le header ou filtre vide
                        row.classList.remove("highlight");
                    }

                    cardVisible++;
                    totalVisible++;
                } else {
                    row.classList.add("hidden");
                    row.classList.remove("highlight");
                }
            });

            card.style.display = cardVisible > 0 ? "" : "none";
        });

        document.getElementById("noResults").style.display =
            totalVisible === 0 ? "block" : "none";
    }

</script>

</body>
</html>